===================
Plugin API Overview
===================


Plugin Class
-----------------------------

AYAB features a simple but powerful API for implementing APIs for Knitting Machine hacks. Plugins are based on Yapsy. While knowledge in Yapsy is useful, it is not complex to get started.

Plugin modules are specified by a ``.yapsy-plugin`` file, and a Python module, specified in said file.

A class extending ``KnittingPlugin`` is required to create a plugin. Methods not overriden on subclasses will raise :py:class:`NotImplementedError`.

.. automodule:: ayab.plugins.knitting_plugin
   :members:


Building UIs
------------

The setup_ui function gets called when the plugin gets selected on the main UI dropdown. The function clean_ui gets called on disposal. Usually the parent UI will only modify ``parent_ui.ui.knitting_options_dock``, as it is the specified container for the knitting options.
You can load generated modules using pyuic, by instanciating the dock, setting up autogenerated UI and then setting up behaviour.

UIs are expected to have a limited horizontal width, as children of the dock are not expected to overflow horizontally.